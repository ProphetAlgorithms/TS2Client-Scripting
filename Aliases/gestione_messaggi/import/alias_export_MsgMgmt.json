{
  "class": "StrMsg",
  "enabled": true,
  "id": "MsgMgmt",
  "is_prompt": false,
  "is_script": true,
  "pattern": "msgmgmt",
  "regex": false,
  "value": "//Divido i parametri in un array\nlet arrParams = $1.trim().split(/\\s+/);\n//Se non ci sono parametri, split restituisce una stringa vuota e in questo caso setto params come\n//vettore vuoto per poterne controllare la lunghezza\nlet cmd = arrParams[0];\nif (arrParams == \"\") {arrParams = [];}\n\n//Funzione che traduce i colori usati da questo alias in quelli usati nella funzione 'color'\nfunction cmdToCliColor (str, ...args) {\n     if (typeof str == \"string\" && args.length <= 3) {\n       let colArgs = [\"#c0c0c0\",\"#000\", false, false, false];\n       let effects = [];\n       for (const arg of args) {\n         switch (true) {\n            case MsgData.colorMgmt[\"cmdColor\"].includes(String(arg).toLowerCase()):\n              colArgs[0] = MsgData.colorMgmt[\"cliColor\"][MsgData.colorMgmt[\"cmdColor\"].indexOf(String(arg).toLowerCase())];\n              break;\n            case MsgData.colorMgmt[\"cmdBgr\"].includes(String(arg).toLowerCase()):\n              colArgs[1] = MsgData.colorMgmt[\"cliBgr\"][MsgData.colorMgmt[\"cmdBgr\"].indexOf(String(arg).toLowerCase())];\n              break;\n            case MsgData.colorMgmt[\"cliEffects\"].includes(String(arg).toLowerCase()):\n              effects.push(String(arg).toLowerCase());\n              break;\n            default:\n              return {\"error\": menuColor(\"Valore \" + \"\\\"\" + menuDataColor(arg) + \"\\\" non trovato.\\r\\r\")}\n         }\n       }\n       if (effects.length > 0) {\n         switch (effects[0]) {\n            case \"high\":\n              colArgs[0] = MsgData.colorMgmt[\"cliHighColor\"][MsgData.colorMgmt[\"cliColor\"].indexOf(colArgs[0])];\n              break;\n            case \"under\":\n              colArgs[3] = true;\n              break;\n            case \"blink\":\n              colArgs[4] = true;\n              break;\n            case \"reverse\":\n              [colArgs[0], colArgs[1]] = [colArgs[1], colArgs[0]];\n              break;\n         }\n     }\n     return color(str,...colArgs);\n   } else {\n     return {\"error\": menuColor(\"Il primo parametro non è una stringa o ci sono più di 4 parametri.\")};\n   }\n}\n\n//Funzione per tradurre un colore nel formato usato da questo alias nel codice colore del mud\nfunction cmdToMudColor(...args) {\n   if (args.length > 0 && args.length <= 3) {\n     let colArgs = [\"0\",\"0\", \"07\"];\n     for (const arg of args) {\n       switch (true) {\n          case MsgData.colorMgmt[\"cmdColor\"].includes(String(arg).toLowerCase()):\n            colArgs[2] = MsgData.colorMgmt[\"mudColor\"][MsgData.colorMgmt[\"cmdColor\"].indexOf(String(arg).toLowerCase())];\n            break;\n          case MsgData.colorMgmt[\"cmdBgr\"].includes(String(arg).toLowerCase()):\n            colArgs[1] = MsgData.colorMgmt[\"mudBgr\"][MsgData.colorMgmt[\"cmdBgr\"].indexOf(String(arg).toLowerCase())];\n            break;\n          case MsgData.colorMgmt[\"cliEffects\"].includes(String(arg).toLowerCase()):\n            colArgs[0] = MsgData.colorMgmt[\"mudEffects\"][MsgData.colorMgmt[\"cliEffects\"].indexOf(String(arg).toLowerCase())];\n            break;\n          default:\n            return {\"error\": menuColor(\"Valore \" + \"\\\"\" + menuDataColor(arg) + \"\\\" non trovato.\\r\\r\")}\n       }\n     }\n     return colArgs.join(\"\");\n   } else {\n     return {\"error\": menuColor(\"Numero dei parametri errato: \") + menuDataColor(String(args.length)) + \"\\r\"};\n   }\n}\n\n//Funzione per tradurre un colore dal codice colore del mud al formato usato da questo alias\nfunction mudToCmdColor(arg) {\n   if (arguments.length == 1 && /^\\d\\d\\d\\d$/gm.test(arg)) {\n     let arrMudColor = [...arg.matchAll(/(\\d)(\\d)(\\d\\d)/gm)];\n     let cliArgs = [];\n     if (MsgData.colorMgmt[\"mudColor\"].includes(String(arrMudColor[0][3]))) {\n       cliArgs.push(MsgData.colorMgmt[\"cmdColor\"][MsgData.colorMgmt[\"mudColor\"].indexOf(String(arrMudColor[0][3]))]);\n     } else {\n       return  {\"error\": menuColor(\"Colore del testo non trovato.\\r\\r\")};\n     }\n     if (MsgData.colorMgmt[\"mudBgr\"].includes(String(arrMudColor[0][2]))) {\n       cliArgs.push(MsgData.colorMgmt[\"cmdBgr\"][MsgData.colorMgmt[\"mudBgr\"].indexOf(String(arrMudColor[0][2]))]);\n     } else {\n       return  {\"error\": menuColor(\"Colore dello sfondo non trovato.\\r\\r\")};\n     }\n     if (MsgData.colorMgmt[\"mudEffects\"].includes(String(arrMudColor[0][1]))) {\n       cliArgs.push(MsgData.colorMgmt[\"cliEffects\"][MsgData.colorMgmt[\"mudEffects\"].indexOf(String(arrMudColor[0][1]))]);\n     } else {\n       return  {\"error\": menuColor(\"Effetto non trovato.\\r\\r\")};\n     }\n     return cliArgs;\n   } else {\n     return  {\"error\": menuColor(\"Nessun parametro o errato.\\r\\r\")};\n   }\n}\n\n//Funzione usata per controllare se un codice colore, che sia in formato del mud o dell'alias, esista\nfunction colorCheck(...args) {\n   //Controllo se ci sono da 1 a 3 parametri\n   if (args.length > 0 && args.length <= 3) {\n     if (arguments.length == 1 && /^\\d\\d\\d\\d$/gm.test(args[0])) {\n       let arrMudColor = [...args[0].matchAll(/(\\d)(\\d)(\\d\\d)/gm)];\n       if (!MsgData.colorMgmt[\"mudColor\"].includes(String(arrMudColor[0][3]))) {\n         return  {\"error\": menuColor(\"Colore del testo non trovato.\\r\\r\")};\n       }\n       if (!MsgData.colorMgmt[\"mudBgr\"].includes(String(arrMudColor[0][2]))) {\n         return  {\"error\": menuColor(\"Colore dello sfondo non trovato.\\r\\r\")};\n       }\n       if (!MsgData.colorMgmt[\"mudEffects\"].includes(String(arrMudColor[0][1]))) {\n         return  {\"error\": menuColor(\"Effetto non trovato.\\r\\r\")};\n       }\n       return [arrMudColor[0][1],arrMudColor[0][2],arrMudColor[0][3]].join(\"\");\n     } else {\n       //C'è più di un parametro o un solo parametro e non è un codice del mud\n       return cmdToMudColor(...args);\n     }\n   } else {\n     //Numero parametri errato\n     return {\"error\": menuColor(\"Numero dei parametri errato: \") + menuDataColor(String(args.length)) + \"\\r\"}; \n   }\n}\n\n//Wrapper della funzione 'color' che assegna il 'menuColor' ad una data stringa\nfunction menuColor(str) {\n   return cmdToCliColor(str, MsgData.menuMgmt[\"menuColor\"])\n}\n\n//Wrapper della funzione 'color' che assegna il 'borderColor' ad una data stringa\nfunction menuBorderColor(str) {\n   return cmdToCliColor(str, MsgData.menuMgmt[\"borderColor\"])\n}\n\n//Wrapper della funzione 'color' che assegna il 'dataColor' ad una data stringa\nfunction menuDataColor(str) {\n   return cmdToCliColor(str, MsgData.menuMgmt[\"dataColor\"])\n}\n\n//Wrapper della funzione 'color' che assegna il 'infoColor' ad una data stringa\nfunction menuInfoColor(str) {\n   return cmdToCliColor(str, MsgData.menuMgmt[\"infoColor\"])\n}\n\n//Funzione usata per avere un'anteprima del colore e può restituire due risultati diversi in base al primo parametro\n//nel caso di una stringa nulla o meno: \n//- se il primo parametro non è una stringa vuota il risultato sarà la stessa stringa colorata del colore assegnato al\n//  secondo parametro;\n//- se il primo parametro è una stringa vuota il risultato sarà il nome del colore del testo colorato con lo stesso \n//  colore che rappresenta affiancato dallo stesso colore sotto forma del codice mud e dal nome dello sfondo e \n//  dell'effetto, nel formato dell'alias, tra parentesi.\n//  Es: grigio-chiaro - 0007 (bg-nero,nofx)\nfunction colorPreview(str, ...args) {\n   if (str == \"\") {\n     //Se il primo parametro è una stringa vuota\n     let err = {};\n     switch (true) {\n        case /^\\d\\d\\d\\d$/gm.test(args[0]): \n          if ((err = mudToCmdColor(args[0])).error === undefined) {\n            let cliCol = mudToCmdColor(args[0]);\n            return cmdToCliColor(cliCol[0], ...cliCol) + menuDataColor(\" - \" + args[0] + \" (\" + cliCol[1] + \",\" + cliCol[2] + \")\");\n          } else {\n            return err;\n          }\n        case (err = cmdToMudColor(...args)).error === undefined:\n          let mudCol = cmdToMudColor(...args);\n          let cmdCol = mudToCmdColor(mudCol);\n          return cmdToCliColor(cmdCol[0], ...cmdCol) + menuDataColor(\" - \" + mudCol + \" (\" + cmdCol[1] + \",\" + cmdCol[2] + \")\");\n        default:\n          return err; \n     }\n   } else {\n     //Se il primo parametro non è una stringa vuota\n     let err = {};\n     switch (true) {\n        case /^\\d\\d\\d\\d$/gm.test(args[0]): \n          if ((err = mudToCmdColor(args[0])).error === undefined) {\n            let cliCol = mudToCmdColor(args[0]);\n            return cmdToCliColor(str, ...cliCol);\n          } else {\n            return err;\n          }\n        case (err = cmdToMudColor(...args)).error === undefined:\n          return cmdToCliColor(str, ...args);\n        default:\n          return err; \n     }\n   }\n}\n\n//Funzione che rappresenta una stringa colorata nel formato nel mud nel formato del client, usando la funzione 'print'\nfunction stringPreview(sStr, eStr) {\n   if (arguments.length == 2) {\n     let preview = \"\";\n     let str1 = \"\";\n     let str2 = \"\";\n     let arrsStr = [...sStr.matchAll(/(\\$c(\\d\\d\\d\\d))?(.*?)(?=\\$c\\d\\d\\d\\d|$)/gm)];\n     let arreStr = [...eStr.matchAll(/(\\$c(\\d\\d\\d\\d))?(.*?)(?=\\$c\\d\\d\\d\\d|$)/gm)];\n     for (const str of arrsStr) {\n        if (str[3] != \"\" && str[3] !== undefined && str[3] !== \"nostring\") {\n          let col = str[2] != \"\" && str[2] !== undefined ? str[2] : \"0007\"\n          str1 = str1 + cmdToCliColor(tagToCode(String(str[3])),...mudToCmdColor(col));\n        }\n     }\n     if (str1 != \"\") {str1 = str1 + \" \"}\n     preview = str1 + menuDataColor(\"'messaggio'\");\n     for (const str of arreStr) {\n        if (str[3] != \"\" && str[3] !== undefined && str[3] !== \"nostring\") {\n          let col = str[2] != \"\" && str[2] !== undefined ? str[2] : \"0007\"\n          str2 = str2 + cmdToCliColor(tagToCode(String(str[3])),...mudToCmdColor(col));\n        }\n     }\n     if (str2 != \"\") {str2 = \" \" + str2}\n     preview = preview + str2;\n      return preview;\n   } else {\n     return {\"error\": menuColor(\"numero parametri diversi da 2.\\r\\r\")};\n   }\n}\n\n//Funzione usata per creare un'anteprima dei primi n colori di una lista di colori, usando la funzione colorPreview\nfunction listsPreview(codeList){\n  let namePreview = [\"Primo\",\"Secondo\",\"Terzo\",\"Quarto\"];\n  let preview = [];\n  let len = namePreview.length;\n  for (let i = 0; i < len; i++) {\n    if (codeList[i] !== undefined) {\n      preview.push(colorPreview(namePreview[i],codeList[i]))\n    }\n  }\n  if (len < codeList.length) {preview.push(menuDataColor(\"...\"))}\n  return preview.join(menuDataColor(\" \"));\n}\n\n//Funzione usata per controllare se una stringa ha solo codici colore\nfunction onlyColor(str) {\n   if (arguments.length == 1) {\n     let arrStr = [...str.matchAll(/(\\$c(\\d\\d\\d\\d))?(.*?)(?=\\$c\\d\\d\\d\\d|$)/gm)];\n     for (const mStr of arrStr) {\n       if (mStr[3] != \"\" && mStr[3] !== undefined) {\n         return str;\n       }\n     }\n     print(menuColor(\"La stringa '\") + menuDataColor(str) + menuColor(\"' ha solo codice colore, verrà sostituita con '\") + menuDataColor(\"nostring\") + menuColor(\"'.\\r\"))\n     return \"nostring\";\n   } else {\n     return {\"error\": \"è necessario un solo parametro.\\r\"};\n   }\n}\n\n//Funzione usata per l'anteprima delle informazioni della modalità di default, se è selezionato il valore 0\n// mostrerà il colore base altrimenti il colore dell'indice > 0\nfunction defZeroPreview(cmd) {\n   let activeDef = MsgData[cmd][\"activeDefMudColor\"];\n   if (activeDef > 0 && MsgData[cmd][\"listDefMudColor\"].length >= activeDef) {\n     return colorPreview(\"\",MsgData[cmd][\"listDefMudColor\"][activeDef - 1]);\n   } else {\n     return colorPreview(\"\",MsgData.colorMgmt.cmdDefault[cmd][0]);\n   }\n}\n\n//Funzione usata per l'anteprima delle informazioni delle stringhe, se è selezionato il valore 0\n// mostrerà la stringa 'nessuna' altrimenti la stringa rappresentata dall'indice > 0\nfunction stringZeroPreview(cmd) {\n   let activeString = MsgData[cmd][\"activeString\"];\n   if (activeString > 0 && MsgData[cmd][\"startString\"].length >= activeString && MsgData[cmd][\"endString\"].length >= activeString) {\n     return stringPreview(MsgData[cmd][\"startString\"][activeString - 1],MsgData[cmd][\"endString\"][activeString - 1]);\n   } else {\n     return menuDataColor(\"nessuna\");\n   }\n}\n\n//Funzione che calcola la lunghezza di una stringa anche se manipolata dalla funzione 'color'\nfunction strLen(str) {\n   let stripStr = \"\";\n   let arrStr = [...str.matchAll(/<span.*?>(?:(.+?)(?:<\\/span>))?/gm)];\n   for (const m of arrStr) {\n     if (m[1] !== undefined && m[1] != \"\") {\n       stripStr = stripStr + m[1];\n     }\n   }\n   if (stripStr.length != 0) {return stripStr.length} else {return \"0\"}\n}\n\n//Funzione per sostituire il carattere '<' con l'entità html che lo rappresenta\nfunction tagToCode(str) {\n   return str.replace(/</gm, \"\\&lt;\");  \n}\n\n//Funzione usata per generare l'anteprima dell'indice di una lista formattandolo in base alla lunghezza della lista\nfunction indexPreview(index, maxIndex) {\n   let offset = String(maxIndex).length - String(index + 1).length;\n   return menuDataColor(\" \".repeat(offset) + (index + 1) + \") \")\n}\n\n//Funzione usata per generare l'anteprima della lista usata dalla modalità 'def' affiancata alla lista delle stringhe\nfunction defaultsAndStringsPreview(cmd) {\n   let empty = 0;\n   let col1 = menuColor(\"Lista dei colori di default (\") + menuDataColor(\"\" + MsgData[cmd][\"listDefMudColor\"].length) + menuColor(\"):\");\n   let col2 = menuColor(\"Lista delle stringhe (\") + menuDataColor(\"\" + MsgData[cmd][\"startString\"].length) + menuColor(\"):\");\n   print(col1 + \" \".repeat(70 - strLen(col1)) + col2);\n   let dLen = MsgData[cmd][\"listDefMudColor\"].length;\n   let sLen = MsgData[cmd][\"startString\"].length;\n   let len = dLen >= sLen ? dLen : sLen;\n   len = (len == 0 ? 1 : len);\n   for (let i = 0; i < len; i++) {\n      if (MsgData[cmd][\"listDefMudColor\"][i] !== undefined) {\n        col1 = indexPreview(i,dLen) + colorPreview(\"\",MsgData[cmd][\"listDefMudColor\"][i]);\n      }  else if (MsgData[cmd][\"listDefMudColor\"][i] === undefined && i == 0) {\n         col1 = menuDataColor( \" \".repeat(10) + \"lista vuota\");\n      } else {\n        col1 = \"\";\n      }\n       if (MsgData[cmd][\"startString\"][i] !== undefined) {\n        col2 = indexPreview(i,sLen) + stringPreview(MsgData[cmd][\"startString\"][i],MsgData[cmd][\"endString\"][i]);\n      }  else if (MsgData[cmd][\"startString\"][i] === undefined && i == 0) {\n         col2 = menuDataColor( \" \".repeat(3) + \"lista vuota\");\n      } else {\n        col2 = \"\";\n      }\n      print(col1 + \" \".repeat(70 - strLen(col1)) + col2);\n   }      \n}\n\n//Funzione usata per generare l'anteprima della lista usata dalla modalità 'seq' e 'rand' affiancata alla lista delle liste salvate\nfunction randseqAndListsPreview(cmd) {\n   let col1 = menuColor(\"Lista dei colori per la modalità 'seq' e 'rand' (\") + menuDataColor(\"\" + MsgData[cmd][\"listMudColor\"].length) + menuColor(\"):\");\n   let col2 = menuColor(\"Liste salvate (\") + menuDataColor(\"\" + MsgData[cmd][\"listsMudColor\"].length) + menuColor(\"):\");\n   print(col1 + \" \".repeat(70 - strLen(col1)) + col2);\n   let dLen = MsgData[cmd][\"listMudColor\"].length;\n   let sLen = MsgData[cmd][\"listsMudColor\"].length;\n   let len = dLen >= sLen ? dLen : sLen;\n   len = (len == 0 ? 1 : len);\n   for (let i = 0; i < len; i++) {\n      if (MsgData[cmd][\"listMudColor\"][i] !== undefined) {\n        col1 = indexPreview(i,dLen) + colorPreview(\"\",MsgData[cmd][\"listMudColor\"][i]);\n      }  else if (MsgData[cmd][\"listMudColor\"][i] === undefined && i == 0) {\n         col1 = menuDataColor( \" \".repeat(10) + \"lista vuota\");\n      } else {\n        col1 = \"\";\n      }\n       if (MsgData[cmd][\"listsMudColor\"][i] !== undefined) {\n        col2 = indexPreview(i,sLen) + listsPreview(MsgData[cmd][\"listsMudColor\"][i]);\n      }  else if (MsgData[cmd][\"listsMudColor\"][i] === undefined && i == 0) {\n         col2 = menuDataColor( \" \".repeat(3) + \"lista vuota\");\n      } else {\n        col2 = \"\";\n      }\n      print(col1 + \" \".repeat(70 - strLen(col1)) + col2);\n   }      \n}\n\n//Funzione usata per l'anteprima dettagliata di una sezione del codice colore del mud, accetta anche un indice per\n//scegliere quale colore, della lista disponibile, analizzare\nfunction colorHelpPreview(section,index) {\n   let col = [\"0\",\"0\",\"00\"];\n   if (arguments.length == 2 && (section == \"c\" || section == \"s\" || section == \"e\")) {\n     switch (section) {\n        case \"c\":\n          if (MsgData.colorMgmt[\"mudColor\"][index] !== undefined) {\n            col[1] = MsgData.colorMgmt[\"mudColor\"][index] == \"00\" ? \"7\" : col[1];\n            col[2] = MsgData.colorMgmt[\"mudColor\"][index];\n            return cmdToCliColor(mudToCmdColor(col.join(\"\"))[0],...mudToCmdColor(col.join(\"\"))) + menuDataColor(\" - \" + col[2]);\n          } else {\n            return \"\";\n          }\n          break;\n        case \"s\":\n          if (MsgData.colorMgmt[\"mudBgr\"][index] !== undefined) {\n            col[2] = MsgData.colorMgmt[\"mudBgr\"][index] == \"0\" ? \"07\" : col[2];\n            col[1] = MsgData.colorMgmt[\"mudBgr\"][index];\n            return cmdToCliColor(mudToCmdColor(col.join(\"\"))[1],...mudToCmdColor(col.join(\"\"))) + menuDataColor(\" - \" + col[1]);\n          } else {\n            return \"\";\n          }\n            break;\n        case \"e\":\n          if (MsgData.colorMgmt[\"mudEffects\"][index] !== undefined) {\n            col[2] = \"02\";\n            col[0] = MsgData.colorMgmt[\"mudEffects\"][index];\n            return cmdToCliColor(mudToCmdColor(col.join(\"\"))[2],...mudToCmdColor(col.join(\"\"))) + menuDataColor(\" - \" + col[0]);\n          } else {\n            return \"\";\n          }\n          break;\n     }         \n   } else {\n     //error\n     return {\"error\": menuColor(\"Parametri errati\"), \"func\": \"colorHelpPreview(section,index)\"}\n   }\n}     \n\n//Funzione usata per controllare se una coppia di stringhe, di inizio e fine messaggio, siano già presenti\nfunction stringCheck(cmd, sStr, eStr, sStrLst, eStrLst) {\n  let sCol = \"\";\n  let eCol = \"\";\n  if (!(/^\\$c\\d\\d\\d\\d/gm.test(String(sStr))) && sStr != \"nostring\") {sCol = \"$c\" + MsgData[cmd][\"defColor\"]}\n  if (!(/^\\$c\\d\\d\\d\\d/gm.test(String(eStr))) && eStr != \"nostring\") {eCol = \"$c\" + MsgData[cmd][\"defColor\"]}\n  let len = sStrLst.length;\n  let str = sCol + sStr + eCol + eStr;\n  for (let i = 0; i < len; i++) {\n    if (str == (sStrLst[i] + eStrLst[i])) {return {\"ok\": \"Stringa trovata.\"}}\n  }\n  return {\"error\": \"Stringa non trovata.\"};\n}\n\n//Funzione che genera l'help del comando 'default'\nfunction defaultHelp(cmd, param) {\n   print(menuBorderColor(\"__________________________________________________________________________________________________________\\r\\r\"));\n   print(menuColor(\"Questo comando serve ad aggiungere, eliminare, cambiare, selezionare un colore dalla lista dei colori di\"));\n   print(menuColor(\"default o resettare l'intera lista. Puoi aggiungere il codice numerico di 4 cifre o il nome del colore,\"));\n   print(menuColor(\"dello sfondo e degli effetti.\") + \"\\n\");\n   print(menuColor(\"Per aggiungere un colore:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" + 1006\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" + verde-scuro\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" + bg-marrone verde-scuro\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" + blink verde-scuro bg-rosso\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per eliminare un colore:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" - 1\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" - 4\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per sostituire un colore:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" 12 1006\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" 1 giallo\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" 3 bg-marrone verde-scuro\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" 7 blink verde-scuro bg-rosso\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per selezionare un colore (0 è il colore base del canale):\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" set 1\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" set 0\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per resettare la lista:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" reset\") + menuColor(\"'\") + \"\\n\");\n   codeColorHelpPreview();\n   print(menuBorderColor(\"__________________________________________________________________________________________________________\\r\\r\"));\n}\n\n//Funzione che genera l'help del comando 'color'\nfunction colorHelp(cmd, param) {\n   print(menuBorderColor(\"__________________________________________________________________________________________________________\\r\\r\"));\n   print(menuColor(\"Questo comando serve ad aggiungere, eliminare, cambiare un colore dalla lista dei colori usati in modo\"));\n   print(menuColor(\"casuale o resettare l'intera lista. Puoi aggiungere il codice numerico di 4 cifre o il nome del colore,\"));\n   print(menuColor(\"dello sfondo e degli effetti.\") + \"\\n\");\n   print(menuColor(\"Per aggiungere un colore:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" + 1006\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" + verde-scuro\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" + bg-marrone verde-scuro\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" + blink verde-scuro bg-rosso\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per eliminare un colore:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" - 1\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" - 4\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per sostituire un colore:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" 12 1006\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" 1 giallo\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" 3 bg-marrone verde-scuro\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" 7 blink verde-scuro bg-rosso\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per resettare la lista:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" reset\") + menuColor(\"'\") + \"\\n\");\n   codeColorHelpPreview();\n   print(menuBorderColor(\"__________________________________________________________________________________________________________\\r\\r\"));\n}\n\n//Funzione che genera l'help del comando 'string'\nfunction stringHelp(cmd, param) {\n   print(menuBorderColor(\"__________________________________________________________________________________________________________\\r\\r\"));\n   print(menuColor(\"Questo comando serve a salvare,elminare,selezionare una stringa o eliminare tutte le stringhe salvate.\") + \"\\n\");\n   print(menuColor(\"Per aggiungere una stringa:\"));\n   print(menuColor(\"* Se si desidera una stringa vuota inserire la parola '\") + menuDataColor(\"nostring\") + menuColor(\"'.\"));\n   print(menuColor(\"* Se una stringa contiene solo codici colore verà sostituita con '\") + menuDataColor(\"nostring\") + menuColor(\"'.\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" + &lt;start string&gt; &lt;end string&gt;\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per eliminare una tringa:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" - 1\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" - 4\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per sostituire una stringa:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" 12 &lt;start string&gt; &lt;end string&gt;\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per selezionare una stringa (0 è nessuna stringa):\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" set 1\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" set 3\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per resettare la lista delle stringhe:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" reset\") + menuColor(\"'\"));\n   print(menuBorderColor(\"__________________________________________________________________________________________________________\\r\\r\"));\n}\n\n\n//Funzione che genera l'help del comando 'list'\nfunction listHelp(cmd, param) {\n   print(menuBorderColor(\"__________________________________________________________________________________________________________\\r\\r\"));\n   print(menuColor(\"Questo comando serve a salvare, elminare, caricare una lista di colori o eliminare tutte le liste salvate.\") + \"\\n\");\n   print(menuColor(\"Per salvare una lista:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" save\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per eliminare una lista:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" - 1\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" - 4\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per sostituire una lista:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" 1\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per caricare una lista:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" load 1\") + menuColor(\"'\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" load 3\") + menuColor(\"'\") + \"\\n\");\n   print(menuColor(\"Per resettare le liste salvate:\"));\n   print(menuColor(\"'\") + menuDataColor(cmd + \" \" + param + \" reset\") + menuColor(\"'\"));\n   print(menuBorderColor(\"__________________________________________________________________________________________________________\\r\\r\"));\n}\n\n//Funzione che genera l'help del comando 'mode'\nfunction modeHelp(cmd, param) {\n   print(menuBorderColor(\"______________________________________________________________________\\r\\r\"));\n   print(menuColor(\"Questo comando serve a selezionare la modalità di utilizzo dei colori:\") + \"\\n\");\n   print(menuColor(\"'\") + menuDataColor(\"def\") + menuColor(\"': utilizza un solo colore della lista di default.\"));\n   print(menuColor(\"'\") + menuDataColor(\"rand\") + menuColor(\"': utilizza colori casuali della lista seq rand.\"));\n   print(menuColor(\"'\") + menuDataColor(\"seq\") + menuColor(\"': utilizza sequenzialmente i colori della lista seq rand.\"));\n   print(menuBorderColor(\"______________________________________________________________________\\r\\r\"));\n}\n\n//Funzione usata per l'anteprima dettagliata di tutti i colori ed effetti presenti nel codice colore del mud\nfunction codeColorHelpPreview() {\n   let col1 = menuColor(\"Effetti disponibili:\");\n   let col2 = menuColor(\"Sfondi disponibili:\");\n   let col3 = menuColor(\"Colori disponibili:\");\n   print(col1 + \" \".repeat(40 - strLen(col1)) + col2 + \" \".repeat(40 - strLen(col2)) + col3);\n   let len = MsgData.colorMgmt[\"mudColor\"].length;\n   for (let i = 0; i < len; i++) {\n      col1 = colorHelpPreview(\"e\",i); \n      col2 = colorHelpPreview(\"s\",i);\n      col3 = colorHelpPreview(\"c\",i);\n      print(col1 + \" \".repeat(40 - strLen(col1)) + col2 + \" \".repeat(40 - strLen(col2)) + col3);\n   }      \n}\n\n//Funzione usata per controllare il numero dei parametri disponibili per un comando\nfunction checkParamsNum(cmd,cmdIndex,len,min,max) {\n  let cmdPos = cmdIndex + 1;\n  switch (true) {\n    case len > max:\n      print(menuDataColor(\"* \") + menuColor(\"Ci sono troppi parametri per il comando '\") + menuDataColor(cmd) + menuColor(\"', numero massimo: \") + menuDataColor(String(max - cmdPos)) + menuColor(\".\") +  \"\\r\");\n      return {\"error\": \"Troppi parametri\"};\n      break;\n    case len < min:\n      let strParam = \"\";\n      if (min == max) {\n        strParam = \" necessari: \";\n      } else {\n        strParam = \" minimo: \";\n      }\n      print(menuDataColor(\"* \") + menuColor(\"Parametri insufficienti,\") + menuColor(strParam) + menuDataColor(String(min - cmdPos)) + menuColor(\".\") + \"\\r\");\n      return {\"error\": \"Parametri insufficienti\"};\n      break;\n    default:\n      return {\"ok\": \"numero corretto di parametri\"};\n  }\n}\n\n//Funzione usata per cercare un array dentro un altro array\nfunction arrayIncludes(array,arrLst) {\n  for (const arr of arrLst) {\n    if (array.toString() === arr.toString()) {return true} \n  }\n  return false;\n}\n\n//Funzione che controlla se una stringa inizia con un codice colore del mud\nfunction startWithColor(cmd,str) {\n  if (!(/^\\$c\\d\\d\\d\\d/gm.test(String(str))) && str != \"nostring\") {\n    return \"$c\" + MsgData[cmd][\"defColor\"];\n  } else {\n    return \"\";\n  }\n}\n\n//Sezione usata per gestire i vari comandi\nswitch (arrParams[1]) {\n   //** Sezione comando 'status'\n   case \"status\":\n     if (arrParams.length == 2) {\n       print(menuBorderColor(\"__________________________________________________________________________________________________________\\r\\r\"));\n       print(\" \".repeat(35) + menuColor(\"Configurazione per il canale \") + colorPreview(cmd,MsgData.colorMgmt.cmdDefault[cmd][0]));\n       print(menuBorderColor(\"----------------------------------------------------------------------------------------------------------\\r\\r\"));\n       print(menuColor(\"Modalità attiva: \") + menuDataColor(MsgData[cmd][\"mode\"]));\n       print(menuColor(\"Colore base del canale: \") + colorPreview(\"\",MsgData.colorMgmt.cmdDefault[cmd][0]));\n       print(menuColor(\"Colore di default selezionato (\") + menuDataColor(\"\" + MsgData[cmd][\"activeDefMudColor\"]) + menuColor(\"): \") + defZeroPreview(cmd));\n       print(menuColor(\"Stringa selezionata (\") + menuDataColor(\"\" + MsgData[cmd][\"activeString\"]) + menuColor(\"): \") + stringZeroPreview(cmd) + \"\\r\");\n       defaultsAndStringsPreview(cmd);\n       print(\" \");\n       randseqAndListsPreview(cmd);\n       print(menuBorderColor(\"__________________________________________________________________________________________________________\\r\\r\"));\n     } else {\n       print(menuColor(\"Questo comando non accetta parametri.\"));\n     }\n     break;\n   //** Sezione comando 'default'\n   case \"default\":\n     //Controllo se c'è solo il comando senza parametri\n     if (arrParams.length > 2) {\n       switch (true) {\n         //Se il secondo parametro è '+'\n         case arrParams[2] === \"+\":\n           if (checkParamsNum(\"+\",2,arrParams.length,4,6).error === undefined) {\n             let check = colorCheck(...arrParams.slice(3));\n             if (check.error === undefined) {\n               if (!MsgData[cmd][\"listDefMudColor\"].includes(check)) {\n                 //Non ci sono errori, inserisco il colore nella lista di default\n                 MsgData[cmd][\"listDefMudColor\"].push(check);\n                 print(menuColor(\"Eseguito.\") + \"\\r\");\n               } else {\n                 print(menuColor(\"Colore già presente, non verrà aggiunto.\") + \"\\r\");\n               }\n             } else {\n               print(menuColor(check.error));\n             }\n           }\n           //Fine della sezione del parametro '+'\n           break;\n         //Se il secondo parametro è '-'\n         case arrParams[2] === \"-\":\n           if (checkParamsNum(\"-\",2,arrParams.length,4,4).error === undefined) {\n             switch (true) {\n               case MsgData[cmd][\"listDefMudColor\"][arrParams[3] - 1] !== undefined && /^\\+|\\-/gm.test(arrParams[3]) === false:\n                 MsgData[cmd][\"listDefMudColor\"].splice((arrParams[3] - 1),1);\n                 if (MsgData[cmd][\"activeDefMudColor\"] == arrParams[3]) {\n                   MsgData[cmd][\"activeDefMudColor\"] = 0;\n                 } else if (MsgData[cmd][\"activeDefMudColor\"] > arrParams[3]) {\n                   MsgData[cmd][\"activeDefMudColor\"] = MsgData[cmd][\"activeDefMudColor\"] - 1;\n                 }\n                 print(menuColor(\"Eseguito.\") + \"\\r\");\n                 break;\n               default:\n                 print(menuColor(\"Colore assente, non verrà eliminato.\") + \"\\r\");\n             }\n           } \n           //Fine della sezione del parametro '-'\n           break;\n         //Inizio sezione '<indice>'\n         case MsgData[cmd][\"listDefMudColor\"][arrParams[2] - 1] !== undefined && /^\\+|\\-/gm.test(arrParams[2]) === false:\n           if (checkParamsNum(\"sostituzione\",2,arrParams.length,4,6).error === undefined) {\n             let check = colorCheck(...arrParams.slice(3));\n             if (check.error === undefined) {\n               if (!MsgData[cmd][\"listDefMudColor\"].includes(check)) {\n                 MsgData[cmd][\"listDefMudColor\"].splice((arrParams[2] - 1), 1, check);\n                 if (arrParams[2] == MsgData[cmd][\"activeDefMudColor\"]) {MsgData[cmd][\"activeDefMudColor\"] = 0}\n                 print(menuColor(\"Eseguito.\") + \"\\r\");\n               } else {\n                 print(menuColor(\"Colore già presente, non verrà sostituito.\") + \"\\r\");\n               }\n             } else {\n               print(menuColor(check.error));\n             }\n           }\n           //Fine della sezione del parametro '<indice>'\n           break;\n         //Inizio sezione 'set'\n         case arrParams[2] === \"set\":\n           if (checkParamsNum(\"set\",2,arrParams.length,4,4).error === undefined) {\n             switch (true) {\n               case (arrParams[3] == 0 || MsgData[cmd][\"listDefMudColor\"][arrParams[3] - 1] !== undefined) && /^\\+|\\-/gm.test(arrParams[3]) === false:\n                 MsgData[cmd][\"activeDefMudColor\"] = arrParams[3];\n                 print(menuColor(\"Eseguito.\") + \"\\r\");\n                 break;\n               default:\n                 print(menuColor(\"Colore assente, non verrà selezionato.\") + \"\\r\");\n             }\n           }\n           //Fine della sezione del parametro 'set'\n           break;\n         //Inizio sezione 'reset'\n         case arrParams[2] === \"reset\":\n           //Se non c'è il parametro dopo il 'reset'\n           if (arrParams[3] === undefined) {\n             if (MsgData[cmd][\"activeDefMudColor\"] > 0) {MsgData[cmd][\"activeDefMudColor\"] = 0}\n             MsgData[cmd][\"listDefMudColor\"] = [];\n             print(menuColor(\"Eseguito.\") + \"\\r\");\n           } else {\n             //C'è un parametro dopo il 'reset'\n             print(menuDataColor(\"* \") + menuColor(\"Il comando accetta un solo parametro.\") + \"\\r\");\n           }\n           //Fine della sezione 'reset'\n           break;\n         default:\n           print(menuDataColor(\"* \") + menuColor(\"Comando non corretto, quelli disponibli sono '\") + menuDataColor(\"+\") + menuColor(\"', '\") + menuDataColor(\"-\") + menuColor(\"', (\") + menuDataColor(\"posizione del colore nella lista\") + menuColor(\"), '\") + menuDataColor(\"set\") + menuColor(\"' e '\") + menuDataColor(\"reset\") + menuColor(\"'.\") + \"\\r\");\n       }//Fine della sezione dei parametri del comando 'default'\n     } else {\n       //Help del comando 'default'\n       defaultHelp(cmd,arrParams[1]);\n     }\n     //** Fine sezione del comaando 'default'\n     break;\n   //** Sezione comando 'color'\n   case \"color\":\n     //Controllo se c'è solo il comando senza parametri\n     if (arrParams.length > 2) {\n       switch (true) {\n         //Se il secondo parametro è '+'\n         case arrParams[2] === \"+\":\n           if (checkParamsNum(\"+\",2,arrParams.length,4,6).error === undefined) {\n             let check = colorCheck(...arrParams.slice(3));\n             if (check.error === undefined) {\n               MsgData[cmd][\"listMudColor\"].push(check);\n               print(menuColor(\"Eseguito.\") + \"\\r\");               \n             } else {\n               print(menuColor(check.error));\n             }\n           }\n           //Fine della sezione del parametro '+'\n           break;\n         //Se il secondo parametro è '-'\n         case arrParams[2] === \"-\":\n           if (checkParamsNum(\"-\",2,arrParams.length,4,4).error === undefined) {\n             switch (true) {\n               case MsgData[cmd][\"listMudColor\"][arrParams[3] - 1] !== undefined && /^\\+|\\-/gm.test(arrParams[3]) === false:\n                 MsgData[cmd][\"listMudColor\"].splice((arrParams[3] - 1),1);\n                 print(menuColor(\"Eseguito.\") + \"\\r\");\n                 break;\n               default:\n                 print(menuColor(\"Colore assente, non verrà eliminato.\") + \"\\r\");\n             }\n           } \n           //Fine della sezione del parametro '-'\n           break;\n         //Inizio sezione '<indice>'\n         case MsgData[cmd][\"listMudColor\"][arrParams[2] - 1] !== undefined && /^\\+|\\-/gm.test(arrParams[2]) === false:\n           if (checkParamsNum(\"sostituzione\",2,arrParams.length,4,6).error === undefined) {\n             let check = colorCheck(...arrParams.slice(3));\n             if (check.error === undefined) {\n               MsgData[cmd][\"listMudColor\"].splice((arrParams[2] - 1), 1, check);\n               print(menuColor(\"Eseguito.\") + \"\\r\");\n             } else {\n               print(menuColor(check.error));\n             }\n           }\n           //Fine della sezione del parametro '<indice>'\n           break;\n         //Inizio sezione 'reset'\n         case arrParams[2] === \"reset\":\n           //Se non c'è il parametro dopo il 'reset'\n           if (arrParams[3] === undefined) {\n             MsgData[cmd][\"listMudColor\"] = [];\n             print(menuColor(\"Eseguito.\") + \"\\r\");\n           } else {\n             //C'è un parametro dopo il 'reset'\n             print(menuDataColor(\"* \") + menuColor(\"Il comando accetta un solo parametro.\") + \"\\r\");\n           }\n           //Fine della sezione 'reset'\n           break;\n         default:\n           print(menuDataColor(\"* \") + menuColor(\"Comando non corretto, quelli disponibli sono '\") + menuDataColor(\"+\") + menuColor(\"', '\") + menuDataColor(\"-\") + menuColor(\"', (\") + menuDataColor(\"posizione del colore nella lista\") + menuColor(\") e '\") + menuDataColor(\"reset\") + menuColor(\"'.\") + \"\\r\");\n       }//Fine della sezione dei parametri del comando 'color'\n     } else {\n       //Help del comando 'color'\n       colorHelp(cmd,arrParams[1]);\n     }  \n     //** Fine sezione del comando 'color'\n     break;\n   //** Sezione comando 'string'\n   case \"string\":\n     //Controllo se c'è solo il comando senza parametri\n     if (arrParams.length > 2) {\n       switch (true) {\n         //Se il secondo parametro è '+'\n         case arrParams[2] === \"+\":\n           if (checkParamsNum(\"+\",2,arrParams.length,5,5).error === undefined) {\n             let str1 = onlyColor(arrParams[3]);\n             let str2 = onlyColor(arrParams[4]);\n             if (stringCheck(cmd, str1, str2, MsgData[cmd][\"startString\"], MsgData[cmd][\"endString\"]).error !== undefined) {\n               let sCol = startWithColor(cmd, str1);\n               let eCol = startWithColor(cmd, str2);\n               MsgData[cmd][\"startString\"].push(String(sCol + str1));\n               MsgData[cmd][\"endString\"].push(String(eCol + str2));  \n               print(menuColor(\"Eseguito.\") + \"\\r\");\n             } else {\n               print(menuColor(\"Stringa già presente, non verrà aggiunta.\") + \"\\r\");\n             }            \n           }\n           //Fine della sezione del parametro '+'\n           break;\n         //Se il secondo parametro è '-'\n         case arrParams[2] === \"-\":\n           if (checkParamsNum(\"-\",2,arrParams.length,4,4).error === undefined) {\n             switch (true) {\n               case MsgData[cmd][\"startString\"][arrParams[3] - 1] !== undefined && /^\\+|\\-/gm.test(arrParams[3]) === false:\n                 MsgData[cmd][\"startString\"].splice((arrParams[3] - 1),1);\n                 MsgData[cmd][\"endString\"].splice((arrParams[3] - 1),1);\n                 if (MsgData[cmd][\"activeString\"] == arrParams[3]) {\n                   MsgData[cmd][\"activeString\"] = 0;\n                 } else if (MsgData[cmd][\"activeString\"] > arrParams[3]) {\n                   MsgData[cmd][\"activeString\"] = MsgData[cmd][\"activeString\"] - 1;\n                 }\n                 print(menuColor(\"Eseguito.\") + \"\\r\");\n                 break;\n               default:\n                 print(menuColor(\"Stringa assente, non verrà eliminata.\") + \"\\r\");\n             }\n           } \n           //Fine della sezione del parametro '-'\n           break;\n         //Inizio sezione '<indice>'\n         case MsgData[cmd][\"startString\"][arrParams[2] - 1] !== undefined && /^\\+|\\-/gm.test(arrParams[2]) === false:\n           if (checkParamsNum(\"sostituzione\",2,arrParams.length,5,5).error === undefined) {\n             let str1 = onlyColor(arrParams[3]);\n             let str2 = onlyColor(arrParams[4]);\n             if (stringCheck(cmd, str1, str2, MsgData[cmd][\"startString\"], MsgData[cmd][\"endString\"]).error !== undefined) {\n               let sCol = startWithColor(cmd, str1);\n               let eCol = startWithColor(cmd, str2);\n               MsgData[cmd][\"startString\"].splice((arrParams[2] - 1), 1,String(sCol + str1));\n               MsgData[cmd][\"endString\"].splice((arrParams[2] - 1), 1,String(eCol + str2));\n               if (arrParams[2] == MsgData[cmd][\"activeString\"]) {MsgData[cmd][\"activeString\"] = 0} \n               print(menuColor(\"Eseguito.\") + \"\\r\");\n             } else {\n               print(menuColor(\"Stringa già presente, non verrà sostituita.\") + \"\\r\");\n             }            \n           }\n           //Fine della sezione del parametro '<indice>'\n           break;\n         //Inizio sezione 'set'\n         case arrParams[2] === \"set\":\n           if (checkParamsNum(\"set\",2,arrParams.length,4,4).error === undefined) {\n             switch (true) {\n               case (arrParams[3] == 0 || MsgData[cmd][\"startString\"][arrParams[3] - 1] !== undefined) && /^\\+|\\-/gm.test(arrParams[3]) === false:\n                 MsgData[cmd][\"activeString\"] = arrParams[3];\n                 print(menuColor(\"Eseguito.\") + \"\\r\");\n                 break;\n               default:\n                 print(menuColor(\"Stringa assente, non verrà selezionata.\") + \"\\r\");\n             }\n           }\n           //Fine della sezione del parametro 'set'\n           break;\n         //Inizio sezione 'reset'\n         case arrParams[2] === \"reset\":\n           //Se non c'è il parametro dopo il 'reset'\n           if (arrParams[3] === undefined) {\n             if (MsgData[cmd][\"activeString\"] > 0) {MsgData[cmd][\"activeString\"] = 0}\n             MsgData[cmd][\"startString\"] = [];\n             MsgData[cmd][\"endString\"] = [];\n             print(menuColor(\"Eseguito.\") + \"\\r\");\n           } else {\n             //C'è un parametro dopo il 'reset'\n             print(menuDataColor(\"* \") + menuColor(\"Il comando accetta un solo parametro.\") + \"\\r\");\n           }\n           //Fine della sezione 'reset'\n           break;\n         default:\n           print(menuDataColor(\"* \") + menuColor(\"Comando non corretto, quelli disponibli sono '\") + menuDataColor(\"+\") + menuColor(\"', '\") + menuDataColor(\"-\") + menuColor(\"', (\") + menuDataColor(\"posizione del colore nella lista\") + menuColor(\"), '\") + menuDataColor(\"set\") + menuColor(\"' e '\") + menuDataColor(\"reset\") + menuColor(\"'.\") + \"\\r\");\n       }//Fine della sezione dei parametri del comando 'string'\n     } else {\n       //Help del comando 'string'\n       stringHelp(cmd,arrParams[1]);\n     }\n     //** Fine sezione del comando 'string'\n     break;\n   //** Sezione comando 'list'\n   case \"list\":\n     //Controllo se c'è solo il comando senza parametri\n     if (arrParams.length > 2) {\n       switch (true) {\n         //Se il secondo parametro è 'save'\n         case arrParams[2] === \"save\":\n           if (checkParamsNum(\"save\",2,arrParams.length,3,3).error === undefined) {\n             if (MsgData[cmd][\"listMudColor\"].length > 0) {\n               if (!arrayIncludes(MsgData[cmd][\"listMudColor\"],MsgData[cmd][\"listsMudColor\"])) {\n                 MsgData[cmd][\"listsMudColor\"].push([...MsgData[cmd][\"listMudColor\"]]);\n                 print(menuColor(\"Eseguito.\") + \"\\r\");               \n               } else {\n                 print(menuColor(\"Lista già presente, non verrà aggiunta.\") + \"\\r\");\n               }\n             } else {\n               print(menuColor(\"Lista colori vuota, non verrà aggiunta.\") + \"\\r\");\n             }\n           }\n           //Fine della sezione del parametro '+'\n           break;\n          //Se il secondo parametro è 'load'\n          case arrParams[2] === \"load\":\n           if (checkParamsNum(\"load\",2,arrParams.length,4,4).error === undefined) {\n             if (MsgData[cmd][\"listsMudColor\"].length > 0) {\n               if (MsgData[cmd][\"listsMudColor\"][arrParams[3] - 1] !== undefined && /^\\+|\\-/gm.test(arrParams[3]) === false) {\n                 MsgData[cmd][\"listMudColor\"] = [...MsgData[cmd][\"listsMudColor\"][arrParams[3] - 1]];\n                 print(menuColor(\"Eseguito.\") + \"\\r\");               \n               } else {\n                 print(menuColor(\"La lista non esiste, non verrà caricata.\") + \"\\r\");\n               }\n             } else {\n               print(menuColor(\"Nessuna lista salvata, non verrà caricata.\") + \"\\r\");\n             }\n           }\n           //Fine della sezione del parametro 'load'\n           break;\n         //Se il secondo parametro è '-'\n         case arrParams[2] === \"-\":\n           if (checkParamsNum(\"-\",2,arrParams.length,4,4).error === undefined) {\n             switch (true) {\n               case MsgData[cmd][\"listsMudColor\"][arrParams[3] - 1] !== undefined && /^\\+|\\-/gm.test(arrParams[3]) === false:\n                 MsgData[cmd][\"listsMudColor\"].splice((arrParams[3] - 1),1);\n                 print(menuColor(\"Eseguito.\") + \"\\r\");\n                 break;\n               default:\n                 print(menuColor(\"Lista assente, non verrà eliminata.\") + \"\\r\");\n             }\n           } \n           //Fine della sezione del parametro '-'\n           break;\n         //Inizio sezione '<indice>'\n         case MsgData[cmd][\"listsMudColor\"][arrParams[2] - 1] !== undefined && /^\\+|\\-/gm.test(arrParams[2]) === false:\n           if (checkParamsNum(\"sostituzione\",2,arrParams.length,3,3).error === undefined) {\n             if (MsgData[cmd][\"listMudColor\"].length > 0) {\n               if (!arrayIncludes(MsgData[cmd][\"listMudColor\"],MsgData[cmd][\"listsMudColor\"])) {\n                 MsgData[cmd][\"listsMudColor\"].splice((arrParams[2] - 1), 1, [...MsgData[cmd][\"listMudColor\"]]);\n                 print(menuColor(\"Eseguito.\") + \"\\r\");               \n               } else {\n                 print(menuColor(\"Lista già presente, non verrà sostituita.\") + \"\\r\");\n               }\n             } else {\n               print(menuColor(\"Lista colori vuota, non verrà sostituita.\") + \"\\r\");\n             }\n           }\n           //Fine della sezione del parametro '<indice>'\n           break;\n         //Inizio sezione 'reset'\n         case arrParams[2] === \"reset\":\n           //Se non c'è il parametro dopo il 'reset'\n           if (arrParams[3] === undefined) {\n             MsgData[cmd][\"listsMudColor\"] = [];\n             print(menuColor(\"Eseguito.\") + \"\\r\");\n           } else {\n             //C'è un parametro dopo il 'reset'\n             print(menuDataColor(\"* \") + menuColor(\"Il comando accetta un solo parametro.\") + \"\\r\");\n           }\n           //Fine della sezione 'reset'\n           break;\n         default:\n           print(menuDataColor(\"* \") + menuColor(\"Comando non corretto, quelli disponibli sono '\") + menuDataColor(\"save\") + menuColor(\"', '\") + menuDataColor(\"load\") + menuColor(\"', '\") + menuDataColor(\"-\") + menuColor(\"', (\") + menuDataColor(\"posizione del colore nella lista\") + menuColor(\") e '\") + menuDataColor(\"reset\") + menuColor(\"'.\") + \"\\r\");\n       }//Fine della sezione dei parametri del comando 'list'\n     } else {\n       //Help del comando 'list'\n       listHelp(cmd,arrParams[1]);\n     }  \n     //** Fine sezione del comando 'list'\n     break;\n   //** Sezione comando 'mode'\n   case \"mode\":\n     //Controllo se c'è solo il comando senza parametri\n     if (arrParams.length > 2) {\n       if (checkParamsNum(\"mode\",1,arrParams.length,3,3).error === undefined) {\n         switch (arrParams[2]) {\n           case \"def\":\n             MsgData[cmd][\"mode\"] = \"def\";\n             print(menuColor(\"Eseguito.\") + \"\\r\");\n             break;\n           case \"rand\":\n             MsgData[cmd][\"mode\"] = \"rand\";\n             print(menuColor(\"Eseguito.\") + \"\\r\");\n             break;\n           case \"seq\":\n             MsgData[cmd][\"mode\"] = \"seq\";\n             print(menuColor(\"Eseguito.\") + \"\\r\");\n             break;\n           default:\n             print(menuColor(\"Modalità sconosciuta, quelle disponibili sono: \") + menuColor(\"'\") + menuDataColor(\"def\") + menuColor(\"', '\") + menuDataColor(\"rand\") + menuColor(\"' e '\") + menuDataColor(\"seq\") + menuColor(\"'.\") + \"\\r\");\n         }\n       } \n     } else {\n       //Help del comando 'mode'\n       modeHelp(cmd,arrParams[1]);\n     }  \n     //** Fine sezione del comando 'mode'\n     break;\n}",
  "shortcut": "",
  "script": null
}